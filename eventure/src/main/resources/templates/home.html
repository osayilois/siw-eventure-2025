<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it">
<head>
  <meta charset="UTF-8" />
  <title th:text="${titoloPagina} ?: 'Eventure'">Eventure</title>

  <!-- CSS globali -->
  <link rel="stylesheet" th:href="@{/css/fonts.css}"/>
  <link rel="stylesheet" th:href="@{/css/base.css}"/>

  <!-- CSS specifico pagina -->
  <link rel="stylesheet" th:href="@{/css/home.css}"/>
</head>
<body class="home">

  <!-- Header comune -->
  <header th:replace="~{fragments/header :: header}"></header>

  <main>
    <!-- HERO: immagine d’impatto + logo + payoff -->
    <section class="impact">
      <figure class="impact__media">
        <!-- Sostituisci hero.jpg con la tua immagine -->
        <img th:src="@{/img/hero.jpg}" alt="Persone che partecipano a un evento" />
      </figure>

      <div class="impact__overlay">        

        <!-- Payoff line centrale -->
        <h1 class="impact__title">
          Un <em class="accent">nuovo</em> modo di vivere gli eventi
        </h1>
      </div>
    </section>

    <div class="container">
      <!-- IN EVIDENZA -->
      <section th:if="${featuredList != null and !#lists.isEmpty(featuredList)}" class="section">
        <h2 class="section__title">Eventi in evidenza</h2>
        <div class="grid grid--featured">
          <article class="card" th:each="e : ${featuredList}">
            <a class="card__link" th:href="@{|/eventi/${e.id}|}" th:aria-label="${'Vai a ' + e.titolo}">
              <img class="card__img"
                   th:src="${#strings.isEmpty(e.imageUrl) ? '/img/placeholder.jpg' : e.imageUrl}"
                   th:alt="${e.titolo}" />
              <div class="card__body">
                <h3 class="card__title" th:text="${e.titolo}">Titolo</h3>
                <p class="card__text"
                   th:text="${#strings.length(e.descrizione) > 120 ? #strings.substring(e.descrizione,0,120) + '…' : e.descrizione}">
                  Descrizione...
                </p>
              </div>
            </a>
          </article>
        </div>
      </section>

      <!-- ALTRI EVENTI -->
      <section class="section">
        <h2 class="section__title">Altri eventi</h2>

        <p class="empty" th:if="${#lists.isEmpty(altri)}"><em>Nessun altro evento al momento.</em></p>

        <div class="grid grid--events" th:if="${!#lists.isEmpty(altri)}">
          <article class="card" th:each="e : ${altri}">
            <a class="card__link" th:href="@{|/eventi/${e.id}|}" th:aria-label="${'Vai a ' + e.titolo}">
              <img class="card__img"
                   th:src="${#strings.isEmpty(e.imageUrl) ? '/img/placeholder.jpg' : e.imageUrl}"
                   th:alt="${e.titolo}" />
              <div class="card__body">
                <h3 class="card__title" th:text="${e.titolo}">Titolo</h3>
                <p class="card__text"
                   th:text="${#strings.length(e.descrizione) > 120 ? #strings.substring(e.descrizione,0,120) + '…' : e.descrizione}">
                  Descrizione...
                </p>
              </div>
            </a>
          </article>
        </div>
      </section>
    </div>
  </main>
</body>
</html>
