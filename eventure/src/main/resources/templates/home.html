<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="it">
<head>
  <meta charset="UTF-8" />
  <title th:text="${titoloPagina} ?: 'Eventure'">Eventure</title>
</head>
<body>

  <!-- Header comune -->
  <!-- Se il file è templates/header.html usa: ~{header :: header} -->
  <!-- Se è templates/fragments/header.html usa: ~{fragments/header :: header} -->
  <header th:replace="~{fragments/header :: header}"></header>

  <main class="container" style="max-width:1100px;margin:2rem auto;padding:0 16px;">

    <section class="hero" style="text-align:center;margin: 2rem 0 2.5rem;">
      <h1>Benvenuta su Eventure</h1>
      <p>Scopri eventi locali, partecipa e condividi esperienze.</p>
      <a class="btn" th:href="@{/eventi}">Esplora eventi</a>
    </section>

    <!-- IN EVIDENZA -->
<section th:if="${featuredList != null and !#lists.isEmpty(featuredList)}" style="margin-bottom:2rem;">
  <h2 style="margin-bottom:.75rem;">Eventi in evidenza</h2>

  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px;">
    <article th:each="e : ${featuredList}" style="border:1px solid #eee;border-radius:12px;overflow:hidden;">
      <img th:src="${#strings.isEmpty(e.imageUrl) ? '/img/placeholder.jpg' : e.imageUrl}"
           alt="" style="width:100%;height:150px;object-fit:cover;">
      <div style="padding:12px;">
        <h3 style="margin:0 0 .5rem;" th:text="${e.titolo}">Titolo</h3>
        <p style="margin:0 0 .75rem;color:#555;"
           th:text="${#strings.length(e.descrizione) > 100 ? #strings.substring(e.descrizione,0,100) + '…' : e.descrizione}">
          Descrizione...
        </p>
        <a class="link" th:href="@{|/eventi/${e.id}|}">Dettagli</a>
      </div>
    </article>
  </div>
</section>


    <!-- ALTRI EVENTI -->
    <section>
      <h2 style="margin-bottom:.75rem;">Altri eventi</h2>

      <p th:if="${#lists.isEmpty(altri)}"><em>Nessun altro evento al momento.</em></p>

      <div th:if="${!#lists.isEmpty(altri)}"
           style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;">
        <article th:each="e : ${altri}" style="border:1px solid #eee;border-radius:12px;overflow:hidden;">
          <img th:src="${#strings.isEmpty(e.imageUrl) ? '/img/placeholder.jpg' : e.imageUrl}"
               alt="" style="width:100%;height:140px;object-fit:cover;">
          <div style="padding:12px;">
            <h3 style="margin:0 0 .5rem;" th:text="${e.titolo}">Titolo</h3>
            <p style="margin:0 0 .75rem;color:#555;"
               th:text="${#strings.length(e.descrizione) > 100 ? #strings.substring(e.descrizione,0,100) + '…' : e.descrizione}">
              Descrizione...
            </p>
            <a class="link" th:href="@{|/eventi/${e.id}|}">Dettagli</a>
          </div>
        </article>
      </div>
    </section>

  </main>
</body>
</html>
